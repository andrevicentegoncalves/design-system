@use 'sass:map';
// =============================================================================
// Typography System
// Mixins for managing fonts, text styles, and typography-related functionality
// =============================================================================
@use '../../abstracts/variables' as *;

// Positioning Reset
$position-top-none: 0;
$position-right-none: 0;
$position-bottom-none: 0;
$position-left-none: 0;


// Implements a consistent typography system using predefined font families
// Handles various weights (thin, light, regular, bold) for Roboto, Lato, and Montserrat
// Usage: @include apply-font('roboto', 'bold');
@mixin apply-font($font-family, $font-weight) {
  @if $font-family == 'roboto' {
      @if $font-weight == 'thin' {
          font-family: 'Roboto', sans-serif;
          font-weight: 100;
      } @else if $font-weight == 'light' {
          font-family: 'Roboto', sans-serif;
          font-weight: 300;
      } @else if $font-weight == 'regular' {
          font-family: 'Roboto', sans-serif;
          font-weight: 400;
      } @else if $font-weight == 'bold' {
          font-family: 'Roboto', sans-serif;
          font-weight: 700;
      }
  } @else if $font-family == 'lato' {
      @if $font-weight == 'thin' {
          font-family: 'Lato', sans-serif;
          font-weight: 100;
      } @else if $font-weight == 'light' {
          font-family: 'Lato', sans-serif;
          font-weight: 300;
      } @else if $font-weight == 'regular' {
          font-family: 'Lato', sans-serif;
          font-weight: 400;
      } @else if $font-weight == 'bold' {
          font-family: 'Lato', sans-serif;
          font-weight: 700;
      }
  } @else if $font-family == 'montserrat' {
      @if $font-weight == 'thin' {
          font-family: 'Montserrat', sans-serif;
          font-weight: 100;
      } @else if $font-weight == 'light' {
          font-family: 'Montserrat', sans-serif;
          font-weight: 300;
      } @else if $font-weight == 'regular' {
          font-family: 'Montserrat', sans-serif;
          font-weight: 400;
      } @else if $font-weight == 'bold' {
          font-family: 'Montserrat', sans-serif;
          font-weight: 700;
      }
  }
}

// Implements consistent typography using predefined base variables
// Ensures uniform text appearance and maintains vertical rhythm
// Usage: @include font-style(16px, 1.5);
@mixin font-style($size: $font-size-base, $line-height: $line-height-base) {
  font-size: $size;
  line-height: $line-height;
}

// Handles text overflow with ellipsis and optional mobile adaptation
// Ensures consistent text truncation across different screen sizes
// Usage: @include truncate(200px, 150px);
@mixin truncate($width: $truncate-width, $mobile-width: null) {
  max-width: $width;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  @if $mobile-width {
    @media (max-width: $breakpoint-phone) {
      max-width: $mobile-width;
    }
  }
}

// =============================================================================
// Layout & Grid System
// Mixins for creating responsive layouts and grid structures
// =============================================================================

// Creates a customizable flexbox container with configurable alignment and direction
// Useful for creating complex layouts with minimal code
// Usage: @include flexbox(column, flex-start, center);
@mixin flexbox($direction: row, $justify: center, $align: center) {
    display: flex;
    flex-direction: $direction;
    justify-content: $justify;
    align-items: $align;
}

// Quick implementation of the most common flexbox pattern - centered content
// Perfect for modal windows, hero sections, and centered content layouts
// Usage: @include flex-center;
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

// Shorthand for vertical stack layout using flexbox
// Useful for form groups and card content
// Usage: @include flex-column;
@mixin flex-column {
  display: flex;
  flex-direction: column;
}



// Adapts container padding for mobile screens
// Includes minimum height to prevent collapsed layouts
// Usage: @include mobile-padding;
@mixin mobile-padding {
  @media (max-width: $breakpoint-phone) {
      padding: $space-s;
      min-height: 80px;
  }
}

// =============================================================================
// Visual Effects & Animations
// Mixins for shadows, transitions, and animations
// =============================================================================

// Applies predefined box shadows for depth and elevation
// Maintains consistent shadow appearance across components
// Usage: @include box-shadow($custom-shadow);
@mixin box-shadow($shadow: $box-shadow) {
  box-shadow: $shadow;
}

// Creates fluid transitions with customizable properties and timing
// Enhances UI interactions and state changes
// Usage: @include transition(opacity, 0.3s, ease-out);
@mixin transition($property: all, $duration: 0.2s, $timing: ease-in-out) {
  transition: $property $duration $timing;
}

// Creates loading shimmer effect with customizable timing
// Used for content placeholder animations
// Usage: @include glow-animation(2s, 0.8);
@mixin glow-animation($speed: 3s, $opacity: 0.9) { 
  animation: glow $speed linear infinite;
  background: linear-gradient(to right, 
    rgba(255, 255, 255, 0) 0%, 
    rgba(0, 0, 0, 0.3) 50%, 
    rgba(255, 255, 255, 0) 100%);
  bottom: 0;
  content: "";
  left: 0;
  opacity: $opacity;
  position: absolute;
  top: 0;
  width: 100%;
}



// =============================================================================
// Component Utilities
// Mixins for common component patterns and behaviors
// =============================================================================

// Applies standard styling for component containers
// Includes border-radius, shadow, and box-sizing reset
// Usage: @include base-component;
@mixin base-component {
  border-radius: $border-radius-soft;
  background-color: $color-neutral-0;
  box-shadow: $box-shadow;
  box-sizing: border-box;
}

// Enforces consistent text alignment in complex components
// Prevents inheritance issues with nested elements
// Usage: @include text-alignment;
@mixin text-alignment {
  .value {
      text-align: left !important;
      * { text-align: left !important; }
  }
  
  .merged-text {
      text-align: center !important;
      * { text-align: center !important; }
  }
}

// Simplifies absolute positioning with optional edge offsets
// Standardizes positioning across components using predefined variables
// Usage: @include absolute(0, 0, null, 0);
@mixin absolute($top: $position-top-none, $right: $position-right-none, $bottom: $position-bottom-none, $left: $position-left-none) {
  position: absolute;
  top: $top;
  right: $right;
  bottom: $bottom;
  left: $left;
}

// Prepares parent containers for truncated child elements
// Maintains layout integrity when text is truncated
// Usage: @include truncate-parent;
@mixin truncate-parent {
  overflow: hidden;
  flex: 1;
  display: flex;  
  align-items: center; 
}