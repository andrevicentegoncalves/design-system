
// Creates a complete set of responsive column classes for specified breakpoints
// Enables flexible grid layouts that adapt to different screen sizes
// Usage: @include generate-grid-columns($breakpoints, 12);
@mixin generate-grid-columns($breakpoints, $grid-columns) {
    @each $breakpoint, $min-width in $breakpoints {
      @media (min-width: $min-width) {
        @for $i from 1 through $grid-columns {
          .row .col-#{$breakpoint}-#{$i} { 
            grid-column: span $i;
          }
        }
      }
    }
}

// Generates non-responsive column classes for basic grid layouts
// Useful for static layouts or as fallback for older browsers
// Usage: @include default-grid-columns(12);
@mixin default-grid-columns($grid-columns) {
  @for $i from 1 through $grid-columns {
    .col-#{$i} {
      grid-column: span $i;
    }
  }
}

// Creates responsive grid system with custom breakpoint columns and IE support
// Implements modern CSS Grid with legacy browser fallbacks
// Usage: @include create-grid('main', (xs: 1, sm: 2, md: 3, lg: 4));
@mixin create-grid($class, $columns) {
  .grid-#{$class} {
    display: grid;
    gap: $grid-gap;

    @each $breakpoint, $column-count in $columns {
      @if $breakpoint == 'xs' {
        grid-template-columns: repeat($column-count, minmax(0, 1fr));
        -ms-grid-columns: repeat($column-count, 1fr); 
      } @else {
        @media (min-width: map.get($grid-breakpoints, $breakpoint)) {
          grid-template-columns: repeat(map.get($columns, $breakpoint), minmax(0, 1fr));
          -ms-grid-columns: repeat(map.get($columns, $breakpoint), 1fr); 
        }
      }
    }
  }
}

// =============================================================================
// Responsive Design
// Mixins for managing breakpoints and responsive behavior
// =============================================================================

// Manages media queries using predefined device breakpoints
// Ensures consistent responsive behavior across the application
// Usage: @include responsive(md) { .element { width: 50%; } }
@mixin responsive($breakpoint) {
  @if $breakpoint == xs {
    @content;
  }
  @else if $breakpoint == sm {
    @media (min-width: #{$breakpoint-phone}) {
      @content;
    }
  }
  @else if $breakpoint == md {
    @media (min-width: #{$breakpoint-tablet}) {
      @content;
    }
  }
  @else if $breakpoint == lg {
    @media (min-width: #{$breakpoint-tablet-horizontal}) {
      @content;
    }
  }
  @else if $breakpoint == xl {
    @media (min-width: #{$breakpoint-desktop}) {
      @content;
    }
  }
}

// Creates responsive container with preset breakpoints
// Adapts from desktop multi-column to single column mobile
// Usage: @include create-responsive-grid-container(4, 2, 1);
@mixin create-responsive-grid-container($items, $tablet-items: 2, $phone-items: 1) {
  display: grid;
  grid-template-columns: repeat($items, 1fr);
  gap: var(--space-m);

  @media (max-width: $breakpoint-desktop) {
    grid-template-columns: repeat($tablet-items, 1fr);
    gap: var(--space-base);
  }

  @media (max-width: $breakpoint-tablet) {
    grid-template-columns: repeat($phone-items, 1fr);
    gap: var(--space-base);
  }

  @media (max-width: $breakpoint-phone) {
    grid-template-columns: 1fr;
  }

  &__item {
    width: 100%;

    .form-control {
      width: 100%;
    }

    label {
      margin-bottom: var(--space-s);
    }
  }
}