@use 'sass:map';
@use '../foundation/focus-scale' as scale;

// ========================================================================== //
//                          VARIABLES: SEMANTIC FOCUS                         //
// ========================================================================== //

// -------------------------------------------
// FOCUS RING CONFIGURATION
// -------------------------------------------
// Default focus ring settings

$focus-ring-config: (
  // Ring dimensions
  'width': map.get(scale.$focus-width-scale, '2'),
  'width-bold': map.get(scale.$focus-width-scale, '3'),
  'offset': map.get(scale.$focus-offset-scale, '2'),
  'offset-small': map.get(scale.$focus-offset-scale, '1'),
  'offset-none': map.get(scale.$focus-offset-scale, '0'),
  
  // Ring style
  'style': map.get(scale.$focus-style-scale, 'solid'),
  'radius': inherit,
  
  // Animation
  'transition-duration': map.get(scale.$focus-transition-duration-scale, 'normal'),
  'transition-easing': map.get(scale.$focus-transition-easing-scale, 'ease-out'),
) !default;

// -------------------------------------------
// FOCUS INDICATORS
// -------------------------------------------
// Different types of focus indicator styles

$focus-indicators: (
  // Line indicators (underlines, borders)
  'line': (
    'width': map.get(scale.$focus-width-scale, '2'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'opacity': map.get(scale.$focus-opacity-scale, '100'),
  ),
  'line-bold': (
    'width': map.get(scale.$focus-width-scale, '3'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'opacity': map.get(scale.$focus-opacity-scale, '100'),
  ),
  'line-subtle': (
    'width': map.get(scale.$focus-width-scale, '1'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'opacity': map.get(scale.$focus-opacity-scale, '70'),
  ),
  
  // Glow/shadow indicators
  'glow': (
    'spread': map.get(scale.$focus-spread-scale, '4'),
    'blur': map.get(scale.$focus-blur-scale, '8'),
    'opacity': map.get(scale.$focus-opacity-scale, '50'),
  ),
  'glow-subtle': (
    'spread': map.get(scale.$focus-spread-scale, '2'),
    'blur': map.get(scale.$focus-blur-scale, '6'),
    'opacity': map.get(scale.$focus-opacity-scale, '30'),
  ),
  'glow-prominent': (
    'spread': map.get(scale.$focus-spread-scale, '6'),
    'blur': map.get(scale.$focus-blur-scale, '12'),
    'opacity': map.get(scale.$focus-opacity-scale, '60'),
  ),
  
  // Outline indicators
  'outline': (
    'width': map.get(scale.$focus-width-scale, '2'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'offset': map.get(scale.$focus-offset-scale, '2'),
  ),
  'outline-dashed': (
    'width': map.get(scale.$focus-width-scale, '2'),
    'style': map.get(scale.$focus-style-scale, 'dashed'),
    'offset': map.get(scale.$focus-offset-scale, '2'),
  ),
) !default;

// -------------------------------------------
// HIGH CONTRAST MODE
// -------------------------------------------
// Enhanced visibility settings for accessibility

$high-contrast-config: (
  // Border/outline widths for high contrast
  'border-width': map.get(scale.$focus-width-scale, '3'),
  'outline-width': map.get(scale.$focus-width-scale, '2'),
  'outline-offset': map.get(scale.$focus-offset-scale, '2'),
  
  // Minimum contrast ratios (WCAG)
  'contrast-ratio-normal': map.get(scale.$focus-contrast-ratio-scale, 'aa-normal'),
  'contrast-ratio-large': map.get(scale.$focus-contrast-ratio-scale, 'aa-large'),
  'contrast-ratio-enhanced': map.get(scale.$focus-contrast-ratio-scale, 'aaa-normal'),
  'contrast-ratio-ui': map.get(scale.$focus-contrast-ratio-scale, 'ui-component'),
) !default;

// -------------------------------------------
// FOCUS SEMANTIC ASSIGNMENTS
// -------------------------------------------
// General semantic meanings for focus states

$focus-semantic: (
  // Standard focus
  'default': (
    'width': map.get(scale.$focus-width-scale, '2'),
    'offset': map.get(scale.$focus-offset-scale, '2'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
  ),
  
  // Bold/prominent focus
  'prominent': (
    'width': map.get(scale.$focus-width-scale, '3'),
    'offset': map.get(scale.$focus-offset-scale, '2'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
  ),
  
  // Subtle/minimal focus
  'subtle': (
    'width': map.get(scale.$focus-width-scale, '1'),
    'offset': map.get(scale.$focus-offset-scale, '1'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
  ),
  
  // Tight focus (no offset)
  'tight': (
    'width': map.get(scale.$focus-width-scale, '2'),
    'offset': map.get(scale.$focus-offset-scale, '0'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
  ),
  
  // Inset focus (negative offset effect)
  'inset': (
    'width': map.get(scale.$focus-width-scale, '2'),
    'offset': map.get(scale.$focus-offset-scale, '0'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
  ),
) !default;

// -------------------------------------------
// FOCUS COMPONENT PRESETS
// -------------------------------------------
// Component-specific focus configurations

$focus-component-presets: (
  // Buttons
  'button': (
    'width': map.get(scale.$focus-width-scale, '2'),
    'offset': map.get(scale.$focus-offset-scale, '2'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'transition-duration': map.get(scale.$focus-transition-duration-scale, 'fast'),
  ),
  'button-primary': (
    'width': map.get(scale.$focus-width-scale, '3'),
    'offset': map.get(scale.$focus-offset-scale, '2'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'transition-duration': map.get(scale.$focus-transition-duration-scale, 'fast'),
  ),
  'button-ghost': (
    'width': map.get(scale.$focus-width-scale, '2'),
    'offset': map.get(scale.$focus-offset-scale, '1'),
    'style': map.get(scale.$focus-style-scale, 'dashed'),
    'transition-duration': map.get(scale.$focus-transition-duration-scale, 'fast'),
  ),
  
  // Form inputs
  'input': (
    'width': map.get(scale.$focus-width-scale, '3'),
    'offset': map.get(scale.$focus-offset-scale, '0'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'transition-duration': map.get(scale.$focus-transition-duration-scale, 'normal'),
  ),
  'textarea': (
    'width': map.get(scale.$focus-width-scale, '3'),
    'offset': map.get(scale.$focus-offset-scale, '0'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'transition-duration': map.get(scale.$focus-transition-duration-scale, 'normal'),
  ),
  'select': (
    'width': map.get(scale.$focus-width-scale, '3'),
    'offset': map.get(scale.$focus-offset-scale, '0'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'transition-duration': map.get(scale.$focus-transition-duration-scale, 'normal'),
  ),
  'checkbox': (
    'width': map.get(scale.$focus-width-scale, '2'),
    'offset': map.get(scale.$focus-offset-scale, '2'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'transition-duration': map.get(scale.$focus-transition-duration-scale, 'fast'),
  ),
  'radio': (
    'width': map.get(scale.$focus-width-scale, '2'),
    'offset': map.get(scale.$focus-offset-scale, '2'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'transition-duration': map.get(scale.$focus-transition-duration-scale, 'fast'),
  ),
  'switch': (
    'width': map.get(scale.$focus-width-scale, '2'),
    'offset': map.get(scale.$focus-offset-scale, '2'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'transition-duration': map.get(scale.$focus-transition-duration-scale, 'fast'),
  ),
  
  // Links
  'link': (
    'width': map.get(scale.$focus-width-scale, '2'),
    'offset': map.get(scale.$focus-offset-scale, '1'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'transition-duration': map.get(scale.$focus-transition-duration-scale, 'fast'),
  ),
  'link-inline': (
    'width': map.get(scale.$focus-width-scale, '2'),
    'offset': map.get(scale.$focus-offset-scale, '0'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'transition-duration': map.get(scale.$focus-transition-duration-scale, 'fast'),
  ),
  
  // Cards/interactive surfaces
  'card': (
    'width': map.get(scale.$focus-width-scale, '2'),
    'offset': map.get(scale.$focus-offset-scale, '2'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'transition-duration': map.get(scale.$focus-transition-duration-scale, 'normal'),
  ),
  'card-interactive': (
    'width': map.get(scale.$focus-width-scale, '3'),
    'offset': map.get(scale.$focus-offset-scale, '2'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'transition-duration': map.get(scale.$focus-transition-duration-scale, 'normal'),
  ),
  
  // Navigation
  'nav-item': (
    'width': map.get(scale.$focus-width-scale, '2'),
    'offset': map.get(scale.$focus-offset-scale, '1'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'transition-duration': map.get(scale.$focus-transition-duration-scale, 'fast'),
  ),
  'tab': (
    'width': map.get(scale.$focus-width-scale, '2'),
    'offset': map.get(scale.$focus-offset-scale, '0'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'transition-duration': map.get(scale.$focus-transition-duration-scale, 'fast'),
  ),
  
  // Modal/dialog
  'modal': (
    'width': map.get(scale.$focus-width-scale, '2'),
    'offset': map.get(scale.$focus-offset-scale, '2'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'transition-duration': map.get(scale.$focus-transition-duration-scale, 'normal'),
  ),
  
  // Menu items
  'menu-item': (
    'width': map.get(scale.$focus-width-scale, '2'),
    'offset': map.get(scale.$focus-offset-scale, '0'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'transition-duration': map.get(scale.$focus-transition-duration-scale, 'fast'),
  ),
  
  // Accordion
  'accordion-trigger': (
    'width': map.get(scale.$focus-width-scale, '2'),
    'offset': map.get(scale.$focus-offset-scale, '1'),
    'style': map.get(scale.$focus-style-scale, 'solid'),
    'transition-duration': map.get(scale.$focus-transition-duration-scale, 'fast'),
  ),
) !default;